"use strict";(self.webpackChunkvuelanding=self.webpackChunkvuelanding||[]).push([[897],{4897:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var o=n(5043),r=n(9896),i=n(9419),a=n(6036),s=n(2030),l=n(3318),c=n(2023),p=n(228),d=n.n(p),u=(n(8856),n(579));const h={turismo:"#6E44FF",gastronomia:"#E67E22",cultural:"#9B59B6",transporte:"#16A085",compras:"#E84393",otros:"#95A5A6",default:"#6E44FF"},m={};function f(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default").toLowerCase();if(m[e])return m[e];const t='<svg xmlns="http://www.w3.org/2000/svg" width="36" height="48" viewBox="0 0 36 48"><path d="M18 0C8.06 0 0 8.06 0 18c0 12.26 18 30 18 30s18-17.74 18-30C36 8.06 27.94 0 18 0z" fill="'.concat(h[e]||h.default,'" fill-opacity="0.9"/><circle cx="18" cy="18" r="7" fill="white"/></svg>'),n=d().icon({iconUrl:"data:image/svg+xml;base64,"+btoa(t),iconSize:[36,48],iconAnchor:[18,48],popupAnchor:[0,-42]});return m[e]=n,n}function g(e){let{center:t,zoom:n}=e;const i=(0,r.ko)();return(0,o.useEffect)(()=>{t&&i.flyTo(t,n,{animate:!0,duration:1})},[t,n,i]),null}const y=e=>e?new Date("".concat(e,"T00:00:00")).toLocaleDateString("es-ES",{day:"numeric",month:"short",year:"numeric"}):"N/A",v=e=>{let{positions:t}=e;const n=(0,r.ko)();return(0,o.useEffect)(()=>{if(!n||t.length<2)return;const e=d().polyline(t),o=d().polylineDecorator(e,{patterns:[{offset:"15%",repeat:"100px",symbol:d().Symbol.arrowHead({pixelSize:12,pathOptions:{fillOpacity:1,weight:0,fillColor:"var(--color-primary)"}})}]}).addTo(n);return()=>{n.removeLayer(o)}},[n,t]),null};function w(){const e=(0,r.ko)();return(0,o.useEffect)(()=>{const t=document.querySelector('.main-content > div[style*="transform"]'),n=()=>{console.log("Animation ended, resizing map."),e.invalidateSize()};t&&t.addEventListener("animationend",n);const o=new ResizeObserver(()=>{e.invalidateSize()}),r=document.querySelector(".map-layout");return r&&o.observe(r),setTimeout(()=>e.invalidateSize(),100),()=>{t&&t.removeEventListener("animationend",n),r&&o.unobserve(r)}},[e]),null}function x(e){let{destinations:t,selectedCoords:n}=e;const o=t.filter(e=>e.lat&&e.lng).map(e=>[e.lat,e.lng]),r=o.length?o[0]:[20,0];return(0,u.jsx)("div",{className:"leaflet-wrapper",children:(0,u.jsxs)(i.W,{center:r,zoom:o.length>0?5:2,scrollWheelZoom:!0,style:{height:"100%",width:"100%",backgroundColor:"#f0f0f0"},children:[(0,u.jsx)(g,{center:n,zoom:13}),(0,u.jsx)(c.e,{url:"https://api.maptiler.com/maps/streets/{z}/{x}/{y}.png?key=".concat("F7plf6dqd6kpPsTlxyb6"),attribution:'\xa9 <a href="https://www.maptiler.com/">MapTiler</a> \xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>'}),t.map(e=>e.lat&&e.lng&&(0,u.jsx)(a.p,{position:[e.lat,e.lng],icon:f(e.category||"default"),children:(0,u.jsx)(l.z,{children:(0,u.jsxs)("div",{className:"map-popup",children:[(0,u.jsx)("h3",{children:"".concat(e.city,", ").concat(e.country)}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Desde:"})," ",y(e.startDate)]}),(0,u.jsxs)("p",{children:[(0,u.jsx)("strong",{children:"Hasta:"})," ",y(e.endDate)]})]})})},e.id)),o.length>1&&(0,u.jsx)(s.R,{pathOptions:{color:"var(--color-primary)",weight:4,opacity:.9},positions:o}),o.length>1&&(0,u.jsx)(v,{positions:o}),(0,u.jsx)(w,{})]})})}const j=(0,o.memo)(x)}}]);
//# sourceMappingURL=897.a3de94e3.chunk.js.map